<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Feed</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="" />
  <meta name="keywords" content="" />
</head>

<body *ngIf="loaded && loadedFeed">
<div class="wrapper">
  <header>
    <div class="container">
      <div class="header-data">
        <div class="logo">
          <a href="/feed" title=""><img src="assets/logo.png" alt="" height="40px" width="50px"></a>
        </div>
        <div class="search-bar">
          <!-- <form>
            <input type="text" name="search" [(ngModel)]="searchCriteria" name="searchCriteria" placeholder="Search by post text...">
            <button (click)="search()"><i class="la la-search"></i></button>
          </form> -->
        </div> 
        <!--search-bar end-->
        <nav>
          <ul>
            <li>
              <a href="/user-feed" title="">
                Home
              </a>
            </li>
            <li>
              <a href="/profiles" title="">
                Profiles
              </a>
            </li>
          </ul>
        </nav><!--nav end-->

        <div class="user-account">
          <div class="user-info"  (click)="makeVisibleUserAcccountSettings()" style="cursor: pointer;">
            <a title=""> Settings </a>
            <i class="la la-sort-down"></i>
          </div>
          <div class="user-account-settingss active" *ngIf="visibleUserAcccountSettings">
            <h3>Settings</h3>
            <ul class="us-links">
              <li><a href="#" title="">Account Setting</a></li>
              <li><a href="#" title="">Privacy</a></li>
              <li><a href="#" title="">Faqs</a></li>
              <li><a href="#" title="">Terms & Conditions</a></li>
            </ul>
            <h3 class="tc"><a routerLink="." (click)="logout()">Logout</a></h3>
          </div><!--user-account-settingss end-->
        </div>
      </div><!--header-data end-->
    </div>
  </header><!--header end-->

  <section class="cover-sec">
    <br> <br><br><br><br><br> <br><br> <br> <br><br> <br> <br>
  </section>

  <main>
    <div class="main-section">
      <div class="container">
        <div class="main-section-data">
          <div class="row">
            <div class="col-lg-3">
              <div class="main-left-sidebar">
                <div class="user_profile">
                  <div class="user-pro-img">
                    <img src="assets\cv__29__generated.jpg" style="width: 170px; height: 170px;" alt="">
                    <a href="#" title=""><i class="fa fa-camera"></i></a>
                  </div><!--user-pro-img end-->
                  <ul class="social_links">
                    <li><a title=""><i class="la la-book"></i> {{ user.firstName }} {{ user.lastName }} </a></li>
                    <li><a title=""><i class="la la-user"></i> {{ user.username }} </a></li>
                    <li><a title=""><i class="la la-at"></i> {{ user.email }} </a></li>
                    <li><a title=""><i class="la la-phone"></i> {{ user.phoneNumber }}  </a></li>
                    <li><a title=""><i class="la la-heart"></i> {{ user.gender }} </a></li>
                  </ul>

                  <div>
                    <div class="sign_link" style="background-color: #e44d3a;">
                      <a routerLink="."  style="color:white; font-size: large" (click)="editInfo()"><i class="fa fa-pencil"></i> Edit info</a>
                    </div>
                  </div>
                  <div>
                    <div class="sign_link" style="background-color: #e44d3a;">
                      <a routerLink="."  style="color:white; font-size: large" (click)="newPost()"><i class="la la-upload"></i> New Post</a>
                    </div>
                  </div>
                </div><!--user_profile end-->
              </div><!--main-left-sidebar end-->
            </div>
            
            <div class="col-lg-6">
              
              <div class="main-ws-sec">
                <div class="user-tab-sec">
                  <h3> {{ user.firstName }} {{ user.lastName }} </h3>
                  <div class="star-descp">
                    <span> {{ user.username }} </span>
                  </div><!--star-descp end-->
                  
                  <div class="tab-feed st2" *ngIf="feedActive">
                    <ul>
                      <li data-tab="feed-dd" class="active">
                        <a routerLink="." (click)="loadFeed()">
                          <span> <i class="la la-home"></i> Feed </span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadMyPosts()">
                          <span> <i class="la la-user"></i> My posts</span>
                        </a>
                      </li>
                      <li data-tab="feed-dd">
                        <a routerLink="." (click)="loadFollowers()">
                          <span> <i class="la la-user"></i> Followers </span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadFollowRequests()">
                          <span> <i class="la la-user"></i> Requests</span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadBlocked()">
                          <span> <i class="la la-ban"></i> Blocked</span>
                        </a>
                      </li>
                    </ul>
                  </div><!-- tab-feed end-->
                  
                  <div class="tab-feed st2" *ngIf="profileActive">
                    <ul>
                      <li data-tab="feed-dd">
                        <a routerLink="." (click)="loadFeed()">
                          <span> <i class="la la-home"></i> Feed </span>
                        </a>
                      </li>
                      <li data-tab="info-dd" class="active">
                        <a routerLink="." (click)="loadMyPosts()">
                          <span> <i class="la la-user"></i> My posts</span>
                        </a>
                      </li>
                      <li data-tab="feed-dd">
                        <a routerLink="." (click)="loadFollowers()">
                          <span> <i class="la la-user"></i> Followers </span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadFollowRequests()">
                          <span> <i class="la la-user"></i> Requests</span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadBlocked()">
                          <span> <i class="la la-ban"></i> Blocked</span>
                        </a>
                      </li>
                    </ul>
                  </div><!-- tab-feed end-->

                  <div class="tab-feed st2" *ngIf="followersActive">
                    <ul>
                      <li data-tab="feed-dd">
                        <a routerLink="." (click)="loadFeed()">
                          <span> <i class="la la-home"></i> Feed </span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadMyPosts()">
                          <span> <i class="la la-user"></i> My posts</span>
                        </a>
                      </li>
                      <li data-tab="feed-dd" class="active">
                        <a routerLink="." (click)="loadFollowers()">
                          <span> <i class="la la-user"></i> Followers </span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadFollowRequests()">
                          <span> <i class="la la-user"></i> Requests</span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadBlocked()">
                          <span> <i class="la la-ban"></i> Blocked</span>
                        </a>
                      </li>
                    </ul>
                  </div>

                  <div class="tab-feed st2" *ngIf="followerRequestsActive">
                    <ul>
                      <li data-tab="feed-dd">
                        <a routerLink="." (click)="loadFeed()">
                          <span> <i class="la la-home"></i> Feed </span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadMyPosts()">
                          <span> <i class="la la-user"></i> My posts</span>
                        </a>
                      </li>
                      <li data-tab="feed-dd">
                        <a routerLink="." (click)="loadFollowers()">
                          <span> <i class="la la-user"></i> Followers </span>
                        </a>
                      </li>
                      <li data-tab="info-dd" class="active">
                        <a routerLink="." (click)="loadFollowRequests()">
                          <span> <i class="la la-user"></i> Requests</span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadBlocked()">
                          <span> <i class="la la-ban"></i> Blocked</span>
                        </a>
                      </li>
                    </ul>
                  </div>

                  <div class="tab-feed st2" *ngIf="blockedActive">
                    <ul>
                      <li data-tab="feed-dd">
                        <a routerLink="." (click)="loadFeed()">
                          <span> <i class="la la-home"></i> Feed </span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadMyPosts()">
                          <span> <i class="la la-user"></i> My posts</span>
                        </a>
                      </li>
                      <li data-tab="feed-dd">
                        <a routerLink="." (click)="loadFollowers()">
                          <span> <i class="la la-user"></i> Followers </span>
                        </a>
                      </li>
                      <li data-tab="info-dd">
                        <a routerLink="." (click)="loadFollowRequests()">
                          <span> <i class="la la-user"></i> Requests</span>
                        </a>
                      </li>
                      <li data-tab="info-dd" class="active">
                        <a routerLink="." (click)="loadBlocked()">
                          <span> <i class="la la-ban"></i> Blocked</span>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div><!--user-tab-sec end-->


                <!-- FEED TAB (MY POSTS) -->
                <div *ngIf="feedActive" class="product-feed-tab current" id="feed-dd">
                  <div class="posts-section">
                    <ul *ngFor="let p of feed; let i=index">
                      <div class="post-bar">
                        <div class="post_topbar">
                          <div class="usy-dt">
                            <img src="assets\cv__29__generated.jpg" style="width: 50px; height: 50px;" alt="">
                            <div class="usy-name">
                              <a routerLink="." title="Show profile" (click)="seeProfile(p.user.username)"> <h3> {{ p.user.username }} </h3> </a>
                            </div>
                          </div>
                        </div>

                        <div class="job_descp">
                          <p> {{ p.description }} </p>
                          <ul *ngIf="p.imageUrl != ''">
                            &nbsp;
                            <img style="max-height: 100%; max-width: 100%;" [src] = "p.imageUrl">
                          </ul>
                        </div>

                        <div class="job-status-bar">
                          <ul class="like-com">
                            <li>
                              <a routerLink="." title="Like" (click)="like(p)"><i class="la la-heart"></i> Likes ({{ p.numberOfLikes }}) </a>
                              <a routerLink="." title="See likes" (click)="seeLikes(p)"><i class="la la-expand"></i>  </a>
                            </li>
                          </ul>
                          <a><i class="la la-comments"></i>Comments ({{ p.comments.length }})</a>
                        </div>
                      </div>

                      <ul *ngFor="let c of p.comments">
                        <div class="comment-section" style="margin-bottom: -2vw; margin-top: -1vw; ">
                          <div class="comment-sec">
                            <ul>
                              <li>
                                <div class="comment-list">
                                  <div class="bg-img">
                                    <img src="assets\cv__29__generated.jpg" style="width: 40px; height: 40px;" alt="">
                                  </div>
                                  <div class="comment">
                                    <h3> {{ c.username }} </h3>
                                    <p> {{ c.content }} </p>
                                  </div>
                                </div>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </ul>
                      <div class="comment-section" style="margin-bottom: 2vw; margin-top: -1vw; ">
                        <div class="post-comment">
                          <div class="cm_img">
                            <img src="assets\cv__29__generated.jpg" style="width: 40px; height: 40px;" alt="">
                          </div>
                          <div class="comment_box">
                            <form (ngSubmit)="comment(p, $event)">
                              <input type="text" placeholder="Post a comment" name="comment">
                              <button type="submit">Send</button>
                            </form>
                          </div>
                        </div>
                      </div>
                    </ul>
                    <br> <br>
                  </div><!--posts-section end-->
                </div><!--product-feed-tab end-->



                <!-- PROFILE TAB (MY POSTS) -->
                <div *ngIf="profileActive" class="product-feed-tab current" id="feed-dd">
                  <div class="posts-section">
                    <ul *ngFor="let p of posts; let i=index">
                      <div class="post-bar">
                        <div class="post_topbar">
                          <div class="usy-dt">
                            <img src="assets\cv__29__generated.jpg" style="width: 50px; height: 50px;" alt="">
                            <div class="usy-name">
                              <a> <h3> {{ p.user.username }} </h3> </a>
                            </div>
                          </div>
                        </div>

                        <div class="job_descp">
                          <p> {{ p.description }} </p>
                          <ul *ngIf="p.imageUrl != ''">
                            &nbsp;
                            <img style="max-height: 100%; max-width: 100%;" [src] = "p.imageUrl">
                          </ul>
                        </div>

                        <div class="job-status-bar">
                          <ul class="like-com">
                            <li>
                              <a routerLink="." title="Like" (click)="like(p)"><i class="la la-heart"></i> Likes ({{ p.numberOfLikes }}) </a>
                              <a routerLink="." title="See likes" (click)="seeLikes(p)"><i class="la la-expand"></i>  </a>
                            </li>
                          </ul>
                          <a><i class="la la-comments"></i>Comments ({{ p.comments.length }})</a>
                        </div>
                      </div>

                      <ul *ngFor="let c of p.comments">
                        <div class="comment-section" style="margin-bottom: -2vw; margin-top: -1vw; ">
                          <div class="comment-sec">
                            <ul>
                              <li>
                                <div class="comment-list">
                                  <div class="bg-img">
                                    <img src="assets\cv__29__generated.jpg" style="width: 40px; height: 40px;" alt="">
                                  </div>
                                  <div class="comment">
                                    <h3> {{ c.username }} </h3>
                                    <p> {{ c.content }} </p>
                                  </div>
                                </div>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </ul>
                      <div class="comment-section" style="margin-bottom: 2vw; margin-top: -1vw; ">
                        <div class="post-comment">
                          <div class="cm_img">
                            <img src="assets\cv__29__generated.jpg" style="width: 40px; height: 40px;" alt="">
                          </div>
                          <div class="comment_box">
                            <form (ngSubmit)="comment(p, $event)">
                              <input type="text" placeholder="Post a comment" name="comment">
                              <button type="submit">Send</button>
                            </form>
                          </div>
                        </div>
                      </div>
                    </ul>
                    <br> <br>
                  </div><!--posts-section end-->
                </div><!--product-feed-tab end-->


                <!-- FOLLOWERS TAB -->
                <div *ngIf="followersActive" class="product-feed-tab current" id="feed-dd">
                  <div class="posts-section">
                    <ul *ngFor="let f of followers; let i=index">
                      <div class="post-bar">
                        <div class="post_topbar">
                          <div class="usy-dt">
                            <img src="assets\cv__29__generated.jpg" style="width: 50px; height: 50px;" alt="">
                            <div class="usy-name">
                              <a routerLink="." title="Show profile" (click)="seeProfile(f.username)"> <h3> {{ f.username }} </h3> </a>
                            </div>
                          </div>
                          <button style="
                          position: absolute; 
                          right: 3vw;
                          width: 5vw; 
                          height: 3vw; 
                          background-color: #e44d3a;  
                          color:white;
                          font-weight: lighter; 
                          border: none;" (click)="blockUser(f.username)">Block</button>
                        </div>
                      </div>
                    </ul>
                  </div>
                </div>          

                <!-- FOLLOW REQUESTS  TAB -->
                <div *ngIf="followerRequestsActive" class="product-feed-tab current" id="feed-dd">
                  <div class="posts-section">
                    <ul *ngFor="let f of followRequests; let i=index">
                      <div class="post-bar">
                        <div class="post_topbar">
                          <div class="usy-dt">
                            <img src="assets\cv__29__generated.jpg" style="width: 50px; height: 50px;" alt="">
                            <div class="usy-name">
                              <a routerLink="." title="Show profile" (click)="seeProfile(f.username)"> <h3> {{ f.username }} </h3> </a>
                            </div>
                          </div>
                          <button style="
                          position: absolute; 
                          right: 15vw;
                          width: 5vw; 
                          height: 3vw; 
                          background-color: #51a5fb;  
                          color:white;
                          font-weight: lighter; 
                          border: none;" (click)="approveFollowRequest(f.username)">Approve</button>
                          <button style="
                          position: absolute; 
                          right: 9vw;
                          width: 5vw; 
                          height: 3vw; 
                          background-color: #51a5fb;  
                          color:white;
                          font-weight: lighter; 
                          border: none;" (click)="rejectFollowRequest(f.username)">Reject</button>
                          <button style="
                          position: absolute; 
                          right: 3vw;
                          width: 5vw; 
                          height: 3vw; 
                          background-color: #e44d3a;  
                          color:white;
                          font-weight: lighter; 
                          border: none;" (click)="blockUser(f.username)">Block</button>
                        </div>
                      </div>
                    </ul>
                    <p *ngIf="sentFollowRequests.length!=0" style="font-size: medium;">Sent follow requests by {{ user.firstName }} {{ user.lastName }}: </p> 
                    <ul *ngFor="let f of sentFollowRequests; let i=index">
                      <div class="post-bar">
                        <div class="post_topbar">
                          <div class="usy-dt">
                            <img src="assets\cv__29__generated.jpg" style="width: 50px; height: 50px;" alt="">
                            <div class="usy-name">
                              <a routerLink="." title="Show profile" (click)="seeProfile(f.username)"> <h3> {{ f.username }} </h3> </a>
                            </div>
                          </div>
                          <button style="
                          position: absolute; 
                          right: 3vw;
                          width: 5vw; 
                          height: 3vw; 
                          background-color: #e44d3a;  
                          color:white;
                          font-weight: lighter; 
                          border: none;" (click)="blockUser(f.username)">Block</button>
                        </div>
                      </div>
                    </ul>
                  </div>
                </div>

                <!-- BLOCKED TAB -->
                <div *ngIf="blockedActive" class="product-feed-tab current" id="feed-dd">
                  <div class="posts-section">
                    <ul *ngFor="let f of blocked; let i=index">
                      <div class="post-bar">
                        <div class="post_topbar">
                          <div class="usy-dt">
                            <img src="assets\cv__29__generated.jpg" style="width: 50px; height: 50px;" alt="">
                            <div class="usy-name">
                              <h3> {{ f.username }} </h3> 
                            </div>
                          </div>
                        </div>
                      </div>
                    </ul>
                  </div>
                </div>    
              </div><!--main-ws-sec end-->
            </div>

            <div class="col-lg-3">
              <div class="right-sidebar">
              
                <div class="suggestions full-width">
                  <div class="sd-title">
                    <h3>Suggestions</h3>
                    <i class="la la-ellipsis-v"></i>
                  </div><!--sd-title end-->
                  <div class="suggestions-list">
                    <div class="suggestion-usd" *ngFor="let u of recommended">
                      <img src="assets\cv__29__generated.jpg" style="width: 35px; height: 35px;" alt="">
                      <div class="usy-name">
                        <!-- <h4> {{ u.username }} </h4> -->
                        <a routerLink="." title="Show profile" (click)="seeProfile(u.username)"> <h3> {{ u.username }} </h3> </a>
                      </div>
                      <span><i class="la la-plus" (click)="follow(u.username)"></i></span>
                    </div>

                    
                  </div><!--suggestions-list end-->
                </div><!--suggestions end-->
              </div><!--right-sidebar end-->
            </div>
          </div>
        </div><!-- main-section-data end-->
      </div>
    </div>
  </main>

  <footer>
    <div class="footy-sec mn no-margin">
      <div class="container">
        <ul>
          <li><a href="#" title="">Help Center</a></li>
          <li><a href="#" title="">Privacy Policy</a></li>
          <li><a href="#" title="">Community Guidelines</a></li>
          <li><a href="#" title="">Cookies Policy</a></li>
          <li><a href="#" title="">Career</a></li>
          <li><a href="#" title="">Forum</a></li>
          <li><a href="#" title="">Language</a></li>
          <li><a href="#" title="">Copyright Policy</a></li>
        </ul>
        <p>Copyright 2018</p>
      </div>
    </div>
  </footer><!--footer end-->
</div><!--theme-layout end-->


</body>
</html>
